---
// Assets
import { Image } from "astro:assets";
import HeroImage from "@/images/assets/megamenu-hero.jpg";

// Fundations
import Text from "@/components/fundations/elements/Text.astro";
import Wrapper from "@/components/fundations/containers/Wrapper.astro";
const { inverted = true } = Astro.props;
const triggerColor = inverted ? "text-white" : "text-base-800";
const exploreLinks = [
  { label: "Products", href: "/#products" },
  { label: "Smart Sensor Monitoring", href: "/products/smart-sensor-monitoring" },
  { label: "Off-Grid Solar Nodes", href: "/products/off-grid-solar-nodes" },
  { label: "Secure Dashboards", href: "/products/secure-dashboards" },
  { label: "Agricultural Solutions", href: "/practice-areas" },
  { label: "Success Stories", href: "/cases" },
  { label: "Our Team", href: "/team" },
  { label: "Blog", href: "/blog" },
  { label: "Careers", href: "/careers" },
  { label: "Press & Media", href: "/press-and-media" },
  { label: "Contact", href: "/contact" },
  { label: "Free Consultation", href: "/free-consultation" },
];
const posts = [
  {
    title: "Precision Agriculture with IoT",
    slug: "1",
    description: "How smart sensors transform farm operations.",
  },
  {
    title: "Solar Power for Remote Farms",
    slug: "2",
    description: "Off-grid solutions for sustainable farming.",
  },
];
const featuredCase = {
  title: "Green Valley Orchards",
  slug: "green-valley-orchards-water-reduction",
  summary: "35% water reduction while improving crop yields through real-time soil monitoring.",
  category: "Irrigation Automation",
};
---

<div class="group" data-mega-wrap>
  <button
    type="button"
    class={`flex text-sm items-center gap-1 ${triggerColor} focus:outline-none`}
    aria-expanded="false"
    aria-controls="mega-desktop"
    data-mega-trigger
    data-explore-trigger
  >
    <span>Explore</span>
    <svg
      class="size-4 transition-transform group-hover:rotate-180"
      viewBox="0 0 24 24"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M6 9l6 6 6-6"
        stroke="currentColor"
        stroke-width="1.5"
        stroke-linecap="round"
        stroke-linejoin="round"></path>
    </svg>
  </button>
  <div
    id="mega-desktop"
    data-mega-panel
    class="absolute inset-x-0 mt-2 top-full w-full z-50 invisible opacity-0 pointer-events-none transition-opacity duration-150 lg:group-hover:visible lg:group-hover:opacity-100 lg:group-hover:pointer-events-auto lg:group-focus-within:visible lg:group-focus-within:opacity-100 lg:group-focus-within:pointer-events-auto"
  >
    <Wrapper>
      <div
        class="bg-accent-900 overflow-hidden shadow-xl border border-white/5"
      >
        <div class="grid grid-cols-4 items-start divide-x divide-white/10">
          <div class="p-6 h-full">
            <div class="flex flex-col h-full items-start">
              <Image
                src={HeroImage}
                width={600}
                height={600}
                alt="FarmEasy - Agricultural IoT Solutions"
                class="object-cover object-center w-full h-40 rounded-lg"
                loading="eager"
                decoding="async"
              />
              <Text
                tag="h2"
                variant="textXL"
                class="font-display text-white mt-4"
              >
                About FarmEasy
              </Text>
              <Text tag="p" variant="textSM" class="text-base-600 mt-2">
                FarmEasy provides solar-powered IoT solutions for precision agriculture. Our advanced sensor networks and automation systems help farmers optimize water usage, monitor crop health, and increase yields sustainably.
              </Text>
              <div
                class="w-full mt-4 pt-4 border-t border-white/10 space-y-2 flex flex-col"
              >
                <a
                  href="mailto:info@farmeasy.ag"
                  class="text-base-300 hover:text-white transition-colors text-xs"
                >
                  info@farmeasy.ag
                </a>
                <a
                  href="tel:+18005551234"
                  class="text-base-300 hover:text-white transition-colors text-xs"
                >
                  (800) 555-1234
                </a>
                <a
                  href="/contact"
                  class="text-xs text-white hover:text-accent-400 transition-colors"
                >
                  Contact us
                </a>
              </div>
            </div>
          </div>
          <div class="p-6 h-full">
            <Text tag="h3" variant="textXS" class="text-secondary-400 gap-2">
              Explore
            </Text>
            <ul class="space-y-2 mt-2 pt-2 border-t border-white/10">
              {
                exploreLinks.slice(0, 8).map((explore) => (
                  <li class=" group">
                    <a href={explore.href}>
                      <Text
                        tag="h4"
                        variant="textSM"
                        class=" text-base-200 hover:text-secondary-500"
                      >
                        {explore.label}
                      </Text>
                    </a>
                  </li>
                ))
              }
            </ul>
          </div>
          <div class="p-6 h-full flex flex-col justify-between">
            <div>
              <Text tag="h3" variant="textXS" class="text-secondary-400 gap-2">
                Insights
              </Text>
              <ul class="mt-2 pt-2 border-t border-white/10">
                {
                  posts.map((post) => (
                    <li class="py-2 group">
                      <a
                        href={`/blog/posts/${post.slug}`}
                        aria-label={`Read: ${post.title}`}
                      >
                        <Text
                          tag="h4"
                          variant="textSM"
                          class="font-medium text-base-200"
                        >
                          {post.title}
                        </Text>
                        {post.description && (
                          <Text
                            tag="p"
                            variant="textXS"
                            class="text-base-600 mt-1 "
                          >
                            {post.description}
                          </Text>
                        )}
                      </a>
                    </li>
                  ))
                }
              </ul>
            </div>
            <a
              href="/blog"
              class="text-sm text-white hover:text-accent-400 flex mt-4 pt-4 border-t border-white/10"
            >
              Explore all insights
            </a>
          </div>
          <div class="p-6 h-full flex flex-col justify-between">
            <div>
              <Text tag="h3" variant="textXS" class="text-secondary-400 gap-2">
                Featured Case
              </Text>
              <ul class="mt-2 pt-2 border-t border-white/10">
                <li class="py-2 group">
                  <a
                    href={`/cases/${featuredCase.slug}`}
                    aria-label={`View case: ${featuredCase.title}`}
                  >
                    <Text
                      tag="h4"
                      variant="textSM"
                      class="font-medium text-base-200"
                    >
                      {featuredCase.title}
                    </Text>
                    <Text tag="p" variant="textXS" class="text-base-600 mt-1">
                      {featuredCase.summary}
                    </Text>
                    <Text tag="p" variant="textXS" class="text-base-600 mt-1">
                      {featuredCase.category}
                    </Text>
                  </a>
                </li>
              </ul>
            </div>

            <a
              href="/cases"
              class="text-sm text-white hover:text-accent-400 flex mt-4 pt-4 border-t border-white/10"
            >
              View all cases
            </a>
          </div>
        </div>
      </div>
    </Wrapper>
  </div>
</div>
